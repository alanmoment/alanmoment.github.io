<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="">
    <meta property="og:title" content="Hello World!!">
    
    <meta property="og:type" content="website">
    
    <meta property="og:description" content="">
    <meta property="og:url" content="http://alanmoment.github.io/">
    <meta property="og:site_name" content="Hello World!!">
    
    <meta name="generator" content="Hugo 0.15" />
    <title>Hello World!! &middot; Hello World!!</title>
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
    
    <link rel="stylesheet" href="http://alanmoment.github.io/css/style.css">
    <link href="http://alanmoment.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Hello World!!" />

    
    
</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top visible-xs">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
				<a class="navbar-brand" href="http://alanmoment.github.io/">Hello World!!</a>
			
		</div>
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				
				
					<li><a href="http://alanmoment.github.io//">Home</a></li>
				
					<li><a href="http://alanmoment.github.io/page/about/">About</a></li>
				
			</ul>
		</div>
	</div>
</nav>
<div class="container-fluid">
	<div class="row">
		<div id="menu" class="hidden-xs col-sm-4 col-md-3">
	<div id="menu-content" class="vertical-align">
		
			<h1 class="text-center"><a href="http://alanmoment.github.io/">Hello World!!</a></h1>
		
		
		
			<small class="text-center center-block">you can do anything you want to do.</small>
		
		
		
			<img id="profile-pic" src="http://alanmoment.github.io///images/avatar.jpg" alt="My Picture" class="img-circle center-block">
		
		<div id="social" class="text-center">
			<a href="https://twitter.com/alanmoment"><i class="fa fa-twitter fa-2x"></i></a>
			<a href="https://www.linkedin.com/in/alanmoment"><i class="fa fa-linkedin fa-2x"></i></a>
			<a href="https://github.com/alanmoment"><i class="fa fa-github fa-2x"></i></a>
			<a href="mailto:alan.moment77@gmail.com"><i class="fa fa-envelope-o fa-2x"></i></a>
		</div>
		<div id="links" class="text-center">
			
			
				<a href="http://alanmoment.github.io//">Home</a>
			
				<a href="http://alanmoment.github.io/page/about/">About</a>
			
		</div>
	</div>
</div>
		<div id="content" class="col-xs-12 col-sm-8 col-md-9">
			<div class="row">
				<div id="post" class="col-sm-offset-1 col-sm-10 col-md-10 col-lg-8">

<header>
	<h1>What I'm Thinking</h1>
</header>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="http://alanmoment.github.io/post/php/gearman_job_worker_for_php/">Gearman Job Worker for PHP</a>
			<br>
			<small>
				22 December 2013
			</small>
		</h3>
	</div>
	<div class="panel-body">
		最近同事接觸到需要 worker 來處理一些非同步的事情。諸如訂單、寄發email都常用非同步來執行，以往這些事情大多都用排程解決，其實還有更好的 solution。他們使用 Gearman 來解決這個問題。好奇心的驅使，就算不是我實作的我也想去玩玩看新的東西，Gearman 可以在系統裡起一個 Job Worker 也可以算是 service，這個 job worker 可以在不起一個排程的情況底下，幫你寄信、處理訂單。也就是當你有需要使用 email 在呼叫他就好了。 安裝 Gearman 在 CentOS 中可以直接用 yum 安裝 $ yum install -y gearmand 安裝 Gearman 依賴包 $ yum -y install re2c geoip geoip-data geoip-devel gcc* boost* libgearman* 這兩個步驟都很簡單 安裝 PHP 的 Gearman extension $ wget http://pecl.php.net/get/gearman-1.1.1.tgz $ cd gearman-1.1.1 $ phpize $ ./configure $ make &amp;&amp; make install 最後在 php.ini 加上 module $ vim /etc/php.ini
		
			... <a href="http://alanmoment.github.io/post/php/gearman_job_worker_for_php/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="http://alanmoment.github.io/tags/php"><span class="label label-success">php</span></a>
			
				<a href="http://alanmoment.github.io/tags/gearman"><span class="label label-success">gearman</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="http://alanmoment.github.io/post/android/android_universal_image_loader/">Android Universal Image Loader</a>
			<br>
			<small>
				28 November 2013
			</small>
		</h3>
	</div>
	<div class="panel-body">
		開發了一陣子的Android，一開始著墨在功能是否能正常運作，現在注重的地方在校能，因為常發生閃退，或未知的錯誤，這邊要講一下下載遠端的圖片加強版。 繼上次發表AsyncTask Download Image by the Android，這一篇發現了其中有些問題。若是大量的圖片，會產生大量的AsyncTask，會造成閃退，以及其他的AsyncTask無法運作，所以有個工具是Android-Universal-Image-Loader，它已經幫使用者處理這部份的問題了，使用起來也很簡單。也不會有AsyncTask阻塞的問題。 Gradle 有兩種方式載入jar檔 官網下載jar檔放進libs，在build.gradle的dependencies中建立compile files('libs/universal-image-loader-1.8.6.jar') 自動下載，在build.gradle的dependencies中建立 compile 'com.nostra13.universalimageloader:universal-image-loader:1.8.6' Usage 我自己寫一隻方便使用的Base /** * ImageLoader Base * * @author Alan * @since 2013/09/06 */ public class BaseImageLoader { private static ImageLoader imageLoader; private static DisplayImageOptions options; private String path = &quot;loader_cache&quot;; private int stubImage = R.drawable.default; private int emptyImage = R.drawable.default; private int failImage = R.drawable.default; private int fadeInTimestamp = 500; public BaseImageLoader(Context context) { File
		
			... <a href="http://alanmoment.github.io/post/android/android_universal_image_loader/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="http://alanmoment.github.io/tags/android"><span class="label label-success">android</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="http://alanmoment.github.io/post/android/use_thread_control_android_ui/">Use Thread control Android UI</a>
			<br>
			<small>
				11 November 2013
			</small>
		</h3>
	</div>
	<div class="panel-body">
		在開發Android app若要用Thread改變UI的話會遇到這個Exception android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views. at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:4637) at android.view.ViewRootImpl.invalidateChildInParent(ViewRootImpl.java:876) at android.view.ViewGroup.invalidateChild(ViewGroup.java:4174) at android.view.View.invalidate(View.java:10313) 原因是Android不允許onCreate之後再建立Thread改變UI，所以得透過他提供的方法 // run on ui thread runOnUiThread(new Runnable() { public void run() { // TODO } }); 這樣就可以透過Thread來執行改變UI的事件了。 完整的範例如下，透過Thread 5秒後改變某個UI的屬性 // Start thread @Override protected void onResume() { super.onResume(); myThread.start(); } // Stop thread @Override public void onPause() { super.onPause(); myThread.interrupt(); } // Execute thread after 5s.
		
			... <a href="http://alanmoment.github.io/post/android/use_thread_control_android_ui/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="http://alanmoment.github.io/tags/android"><span class="label label-success">android</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="http://alanmoment.github.io/post/other/zou_zai_shi_shang_de_jian_7aef21_ghost/">走在時尚的尖端! Ghost</a>
			<br>
			<small>
				24 October 2013
			</small>
		</h3>
	</div>
	<div class="panel-body">
		今天我也要來趕流行一下，最近很流行Ghost這東東，這東東是甚麼呢？他有點像Octopress，但是卻不像Octopress比較困難架。 Ghost是架構在Nodejs上的，可以用極短..極短..極短的時間架好blog。一分鐘就可以架好了！！就是這麼簡單，所以也沒有甚麼流程，只要安裝Nodejs基本上就完成了。 Ghost允許線上用Markdown編輯文章，不像Octopress得依靠Command line或工具。 Install Nodejs 可以按照官網上的Install Node步驟安裝，或是CentOS 安装 Node.js 0.8.5也可以看一下。 Install Ghost 註冊Ghost就可以到Download畫面下載。 接著五個步驟就完成了。 $ wget 'https://en.ghost.org/zip/ghost-0.3.2.zip' $ unzip ghost-0.3.2.zip -d ghost $ cd ghost $ npm install --production $ npm start 這樣就可以run囉!!簡單到炸掉阿&hellip; 畫面非常乾淨漂亮。 後台管理 輸入網址http://your-domain/ghost就可以註冊一個admin的帳號。 設定config.js 網站目錄底下有個config.js，若沒有則自己複製一份。 $ cp -a config.example.js config.js 這邊將全部的my-ghost-blog.com替換成自己的domain。 PM2管理Ghost 若是使用npm start啟動，會有點難管理，而且nodejs最為人詬病的就是不friendly。所以這邊我是使用PM2。Github上有很詳細的安裝方式，就不再說明。應用在Ghost則可以執行。 $ pm2 start ghost/index.js 看執行中的程式 $ pm2 list 看程式負載 $ pm2 monit 也可以看log $ pm2 logs
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="http://alanmoment.github.io/tags/other"><span class="label label-success">other</span></a>
			
				<a href="http://alanmoment.github.io/tags/ghost"><span class="label label-success">ghost</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="http://alanmoment.github.io/post/android/asynctask_download_image_by_the_android/">AsyncTask download image by the Android</a>
			<br>
			<small>
				18 October 2013
			</small>
		</h3>
	</div>
	<div class="panel-body">
		開發Android時常需要呈現圖片，但不可能圖片都是從Drawable中撈出來，一定有時需要從ImageServer或是透過網址取得圖片。 若是用一般的方式解決 try { URL url = new URL(imageUrl); HttpURLConnection connection = (HttpURLConnection) url.openConnection(); connection.setDoInput(true); connection.connect(); InputStream input = connection.getInputStream(); Bitmap bitmap = BitmapFactory.decodeStrea (input); return bitmap; } catch (IOException e) { e.printStackTrace(); return null; } 這樣子會造成讀取完圖片才會往下繼續執行的窘境，如果Timeout那畫面會停留更久。所以要用AsyncTask的特性來實作這個功能。 Android 4.0之後為了避免跟網路溝通時造成畫面停滯的問題，在與網路溝通的程式碼中必須要用執行緒的方式來進行與網路的溝通。 建立ImageDownloadTask 先在AndroidManifest.xml開啟網路權限 &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt; 為了避免在短時間內下載重複的圖片，所以用url當作key做了cache的機制imageCache.put(params[0], mIcon11)，只要cache中不超過空間限制，都不會重複向遠端撈取圖片。 package com.example.test; import android.graphics.Bitmap; import android.graphics.BitmapFactory; import android.os.AsyncTask; import android.support.v4.util.LruCache; import android.util.Log; import android.widget.ImageView; import java.io.InputStream; import java.net.URLConnection; /** * 遠端下載圖片 * * @author Alan * @since 2013/10/05 */ public class ImageDownloadTask extends AsyncTask&lt;string void bitmap&gt; { private static final String LOG_TAG = ImageDownloadTask.class.getName(); private ImageView bmImage; private static LruCache imageCache; private static final int CACHE_SIZE = 1; //1MB public ImageDownloadTask(ImageView bmImage) { this.bmImage = bmImage; // 設定圖片快取 if (imageCache == null) { imageCache = new LruCache(CACHE_SIZE * 1024 * 1024); } } protected Bitmap doInBackground(String...
		
			... <a href="http://alanmoment.github.io/post/android/asynctask_download_image_by_the_android/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="http://alanmoment.github.io/tags/android"><span class="label label-success">android</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="http://alanmoment.github.io/post/android/progressbar_while_loading_listview_of_android/">ProgressBar while loading ListView of Android</a>
			<br>
			<small>
				11 October 2013
			</small>
		</h3>
	</div>
	<div class="panel-body">
		ListView通常是用來顯示列表的Widget，但是一般不可能直接從不管是遠端的Database或是Sqlite撈出全部的資料然後直接顯示，一定是分批撈取分批顯示。 這時就需要一個Loading畫面讓Client知道說，當前正在載入資料。不管是跳Dialog或是像Facebook一樣在畫面Bottom顯示Loading layout都可以。 我採取的是像Facebook一樣的方式呈現。 建立MainActivity.java simpleAdapter可另外設置R.layout.listview_item讓ListView中的資料吃別隻xml。 package com.example.test; import android.app.Activity; import android.content.Context; import android.os.Bundle; import android.util.Log; import android.view.Gravity; import android.widget.AbsListView; import android.widget.LinearLayout; import android.widget.ListView; import android.widget.ProgressBar; import android.widget.SimpleAdapter; import android.widget.TextView; import java.util.ArrayList; import java.util.HashMap; import java.util.List; import java.util.Map; public class MainActivity extends Activity { private String TAG_LOG = MainActivity.class.getName(); // ViewList需要用到的制定鍵值 String[] adapterKey; // ViewList需要用到的制定鍵值 int[] adapterViewKey; // 顯示讀取畫面的容器 LinearLayout loadingLayout; // 顯示列表的容器 ListView listView; // 列表 SimpleAdapter simpleAdapter; //
		
			... <a href="http://alanmoment.github.io/post/android/progressbar_while_loading_listview_of_android/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="http://alanmoment.github.io/tags/android"><span class="label label-success">android</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="http://alanmoment.github.io/post/ide/yong_netbeans_kai_fa_ruby_on_rails/">用NetBeans開發Ruby On Rails</a>
			<br>
			<small>
				4 October 2013
			</small>
		</h3>
	</div>
	<div class="panel-body">
		NetBeans除了能開發PHP、Java、..等等的這些程式語言，其實也早就有Plugin能支援開發Ruby哦。 下載RailsInstaller RailsInstaller有完整的開發環境。一包就搞定。 下載Ruby and Rails Plugin 從官網的Plugins下載完畢後從NetBeans的功能選項中選擇 Tools→Plugins 在安裝其他的plugins之前，必須先選擇安裝org-jruby-jruby.jar，讓NetBeans可以支援Ruby 再來安裝其他的plugins就不會出現錯誤訊息 全部安裝完畢後，就可以在功能選項中建立Ruby On Rails的Application囉。 File→New Project 雖然我使用NetBeans已經很長一段時間了，但是主要用他來開發PHP，開發PHP是很好用沒錯。要用他來開發RoR是有點勉強阿&hellip; 所以其實我裝完之後就沒再使用了，我個人比較推薦Aptana Studio，畫面看起來也比較舒服。 發生錯誤 6/23/2013 4:57:01 PM 建立project之後執行run，發現console有錯誤訊息如下 WARN Could not determine content-length of response body. Set content-length of the response or set Response#chunked = true 在C:\RailsInstaller\Ruby1.9.3\lib\ruby\1.9.1\webrick\httpresponse.rb搜尋 if chunked? || @header['content-length'] 替換為 if chunked? || @header['content-length'] || @status == 304 || @status == 204 即可解決 參考：http://richardjoo.wordpress.com/2013/01/15/warn-could-not-determine-content-length-of-response-body-set-content-length-of-the-response-or-set-responsechunked-true/ 6/23/2013 11:57:01 PM 當更改固定首頁的時候出現錯誤訊息如下 ExecJS::RuntimeError in Home#index 可以到C:\RailsInstaller\Ruby1.9.3\lib\ruby\gems\1.9.1\gems\execjs-1.4.0\lib\execjs\runtimes.rb搜尋cscript
		
			... <a href="http://alanmoment.github.io/post/ide/yong_netbeans_kai_fa_ruby_on_rails/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="http://alanmoment.github.io/tags/ide"><span class="label label-success">ide</span></a>
			
				<a href="http://alanmoment.github.io/tags/netbeans"><span class="label label-success">netbeans</span></a>
			
				<a href="http://alanmoment.github.io/tags/ruby-on-rails"><span class="label label-success">ruby on rails</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="http://alanmoment.github.io/post/android/android_use_foreign_object_of_ormlite/">Android use foreign object of OrmLite</a>
			<br>
			<small>
				1 October 2013
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Android也有很好用的ActiveRecord可以應用，OrmLite提供了非常多的函式方便應用，架構也非常清楚，在跟SqlLite溝通時不再需要自己造輪子。 這邊記錄當ValueObject有繼承關係，又必須要有主附表關係時OrmLite的Foreign Key應用方法。 建立Major 類似像MySql的主附表應用，主表如下，@DatabaseTable是用在若要另外建立表名，則必須要設定這個值，若沒設定預設會用class的名字建立。 @DatabaseField則是欄位名稱。 package com.data; import com.j256.ormlite.field.DatabaseField; import com.j256.ormlite.table.DatabaseTable; /** * Created by Alan on 2013/9/18. */ @DatabaseTable(tableName=&quot;Major&quot;) public class Major { @DatabaseField private String parent; public void setParent(String parent) { this.parent = parent; } public String getParent() { return this.parent; } } 建立Minor 當Minor與Major是繼承關係時，同時又必須要包含另外的物件。這邊的@DatabaseField在參數中有foreign代表著這個屬性是外部鍵，指向另外一個物件的主鍵。並且foreignAutoRefresh是新增一筆資料後不用另外refresh。 package com.data; import com.j256.ormlite.field.DatabaseField; import com.j256.ormlite.table.DatabaseTable; /** * Created by Alan on 2013/9/18. */ @DatabaseTable(tableName = &quot;Minor&quot;) public class Minor extends Major { @DatabaseField(foreign=true, foreignAutoRefresh=true) private Other other; public Minor() { } @DatabaseField private String child; public void setChild(String child) { this.child = child; } public String getChild() { return this.child; } /** * 設定外部物件 */ public void setOther(Other other) { this.other = other; } /** * 取得外部物件 */ public Other getOther() { return this.other; } } 建立外部物件 外部物件若要和別的物件有Composition的關係，在這邊必須要有主鍵，而我設定generatedId=true就類似MySql的auto_increment屬性，讓物件可以自動生成ID，以便和別的物件建立指向關係。 package com.data; import com.j256.ormlite.field.DatabaseField; import com.j256.ormlite.table.DatabaseTable; /** * Created by Alan on 2013/9/18.
		
			... <a href="http://alanmoment.github.io/post/android/android_use_foreign_object_of_ormlite/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="http://alanmoment.github.io/tags/android"><span class="label label-success">android</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="http://alanmoment.github.io/post/cooperation/phabricator/install_phabricator_and_run_on_the_gitlab/">Install Phabricator and run on the Gitlab</a>
			<br>
			<small>
				14 September 2013
			</small>
		</h3>
	</div>
	<div class="panel-body">
		最近跑的專案都是四個人以上同時開發，有時候程式碼被改了，Pull下來改完衝突，發現程式碼都會錯亂。排除每個人對Git熟練度，我覺得Gitlab對於Review code做的似乎不是很友善。Scrum在跑的時候碰到這類型的問題，每次要解決都要花不少時間。 在某一次尋找Git相關教學的時候發現了一個蠻冷門的東西Phabricator，當初看到這套的時候第一印象就覺得這也是版本控制，所以加入最愛後就沒再理他，當碰到最近的問題，才想到我似乎在哪裡有看到這種問題的Solution。 這一套Phabricator是Facebook釋出的Open source，Facebook也是為了解決Review Code, Track Bugs, Browse Source&hellip;等等這些問題才會開發這一套系統。 開始安裝 在官網是很詳細的安裝方式我在這邊粗略的介紹一下。 要使用Phabricator一定得先安裝git, apache, mysql, php, php extensions (mbstring, iconv&hellip;等) git (usually called &ldquo;git&rdquo; in package management systems) Apache (usually &ldquo;httpd&rdquo; or &ldquo;apache2&rdquo;) (or nginx) MySQL Server (usually &ldquo;mysqld&rdquo; or &ldquo;mysql-server&rdquo;) PHP (usually &ldquo;php&rdquo;) Required PHP extensions: mbstring, iconv, mysql (or mysqli), curl, pcntl (these might be something like &ldquo;php-mysql&rdquo; or &ldquo;php5-mysql&rdquo;) Optional PHP extensions: gd, apc (special instructions for APC are available below if you have difficulty installing it), xhprof (instructions below, you only need this if you are developing Phabricator) 他還有些版本的限制，必需要注意。安裝以上是比較基本的，接下來就是clone。 $ cd somewhere/ # pick some install directory somewhere/ $ git clone git://github.com/facebook/libphutil.git somewhere/ $ git clone git://github.com/facebook/arcanist.git somewhere/ $ git clone git://github.com/facebook/phabricator.git clone下來最好就在libphutil、arcanist、phabricator先執行git pull因為我沒有這樣做，多花了一個小時找問題阿&hellip;結果根本就不是最新的版本。 另外可以選擇是不是要安裝APC、XHProf 修改httpd-vhosts.conf 我的東西大部份都是部屬在Apache上這個也不例外。所以我加上sub domain相關的參數。 $ vim /etc/httpd/conf.d/httpd-vhosts.conf &lt;virtualhost&gt; # Change this to the domain which points to your host.
		
			... <a href="http://alanmoment.github.io/post/cooperation/phabricator/install_phabricator_and_run_on_the_gitlab/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="http://alanmoment.github.io/tags/cooperation"><span class="label label-success">cooperation</span></a>
			
				<a href="http://alanmoment.github.io/tags/phabricator"><span class="label label-success">phabricator</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="http://alanmoment.github.io/post/cooperation/gitlab/gitlab_41_upgrade_to_gitlab_60chao_tou_lan_fang_fa/">Gitlab 4.1 upgrade to Gitlab 6.0超偷懶方法</a>
			<br>
			<small>
				6 September 2013
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Gitlab官方網站已經釋出Gitlab 6.0了，我的版本卻還在4.1。所以忍不住手癢，試試看4.1升級到6.0，但是這中間的版本實在太多啦。要一個一個升級，不知道又會遇到什麼問題。所幸愛亂搞的我，想到了妙招，如果我重新安裝6.0但是使用的是原本的4.1資料表，是不是也可以正常運作呢? 因為Gitlab的migrate應該是不會影響到以前的資料。 備份以下東西，以防止不能運作後，還能回復成4.1的版本 Mysql中的gitlabhq_production資料庫 /etc/init.d/gitlab 再來就先停止Gitlab的運行 $ service gitlab stop 然後依照官網的安裝步驟。但只執行到bundle install。因為要使用到原本的資料庫。 bundle install --deployment --without development test postgres aws 再來依照官網5.4升級到6.0的文件，執行下列程序。 sudo -u git -H bundle exec rake db:migrate RAILS_ENV=production sudo -u git -H bundle exec rake migrate_groups RAILS_ENV=production sudo -u git -H bundle exec rake migrate_global_projects RAILS_ENV=production sudo -u git -H bundle exec rake migrate_keys RAILS_ENV=production sudo -u git -H bundle exec rake migrate_inline_notes RAILS_ENV=production sudo -u git -H bundle exec rake gitlab:satellites:create RAILS_ENV=production # Clear redis cache sudo -u git -H bundle exec rake cache:clear RAILS_ENV=production # Clear and precompile assets sudo -u git -H bundle exec rake assets:clean RAILS_ENV=production sudo -u git -H bundle exec rake assets:precompile RAILS_ENV=production 取得啟動腳本 curl --output /etc/init.d/gitlab https://raw.github.com/gitlabhq/gitlab-recipes/master/init.d/gitlab chkconfig --add gitlab chkconfig gitlab on chmod +x /etc/init.d/gitlab 因為我的gitlab是掛在apache上的所以還要修改httpd-vhosts.conf $ vim /etc/httpd/conf.d/httpd-vhosts.conf &lt;virtualhost&gt; ServerName git.ocomm.com.tw DocumentRoot /home/git/gitlab/public # !!!
		
			... <a href="http://alanmoment.github.io/post/cooperation/gitlab/gitlab_41_upgrade_to_gitlab_60chao_tou_lan_fang_fa/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="http://alanmoment.github.io/tags/cooperation"><span class="label label-success">cooperation</span></a>
			
				<a href="http://alanmoment.github.io/tags/gitlab"><span class="label label-success">gitlab</span></a>
			
		</small>
		
	</div>
</div>



<div class="text-center center-block">
	
    
    <ul class="pagination">
        
        <li>
            <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
        </li>
        
        <li
        >
        <a href="/page/2/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
        </li>
        
        <li
        ><a href="/">1</a></li>
        
        <li
        ><a href="/page/2/">2</a></li>
        
        <li
        class="active"><a href="/page/3/">3</a></li>
        
        <li
        ><a href="/page/4/">4</a></li>
        
        <li
        ><a href="/page/5/">5</a></li>
        
        <li
        >
        <a href="/page/4/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
        </li>
        
        <li>
            <a href="/page/5/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
        </li>
        
    </ul>
    
</div>

						</div>
					</div>
				</div>
			</div>
		</div>
  </div>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/js/bootstrap.min.js"></script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
  
  
  <script src="http://alanmoment.github.io//js/App.js"></script>
  
</body>
</html>