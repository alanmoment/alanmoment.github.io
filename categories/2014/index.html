<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <title>
    2014 // Hello World!!
  </title>

  <link href="http://gmpg.org/xfn/11" rel="profile">
<meta http-equiv="content-type" content="text/html; charset=utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="">
<meta name="generator" content="Hugo 0.15" />

  <meta property="og:title" content="2014" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />
<meta property="og:url" content="http://alanmoment.github.io/categories/2014/" />


  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/base-min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/pure-min.css">
  
  
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/grids-responsive-min.css">
  
  

  <link rel="stylesheet" href="http://alanmoment.github.io//css/redlounge.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
  <link href='//fonts.googleapis.com/css?family=Raleway:400,200,100,700,300,500,600,800' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="http://alanmoment.github.io/categories/2014/index.xml" rel="alternate" type="application/rss+xml" title="Hello World!!" />

    
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/styles/tomorrow-night-bright.min.css">
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  

  

  
</head>

<body>
	<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
  <div class="header">
    

	
	  <img src="/images/avatar.jpg" class="sidebarphoto">
	

    <h1 class="brand-title">Hello World!!</h1>
    <h2 class="brand-tagline">you can do anything you want to do.</h2>

    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item"><span class="nav-item-separator">//</span><a href="http://alanmoment.github.io/">Home</a></li>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/page/about/">About me</a></li>
        
      </ul>
    </nav>

    
    <div class="social-buttons">
      
        
        <a href="https://github.com/alanmoment" target="_blank"><i class='fa fa-github'></i></a>
        
      
        
        <a href="https://www.linkedin.com/in/alanmoment" target="_blank"><i class='fa fa-linkedin'></i></a>
        
      
        
        <a href="http://www.twitter.com/alanmoment" target="_blank"><i class='fa fa-twitter'></i></a>
        
      
      
    </div>
    

  </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
      <a name="top"></a>
      

      <div class="posts">
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/database/chi_zu_ku_tou_de_mssql/">吃足苦頭的Mssql</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>29</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Dec</span> <span class="post-date-year">2014</span>
		          </span>
      				
      				
      					By <a class="post-author" >Alan</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-2014" href="http://alanmoment.github.io//categories/2014">2014</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	為了讓 CentOS 的 PHP 可以支援 Mssql &amp; UTF-8 真是吃了不少苦頭，最終在安裝 FreeTDS 後加上設定檔終於如願以償&hellip; $ vim /etc/freetds.conf [global] # TDS protocol version tds version = 8.0 client charset = UTF-8 charset = UTF-8
            </article>
			<div class="read-more-link">
				<a href="/post/database/chi_zu_ku_tou_de_mssql/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/os/linux/the_bash_auto_build/">The bash auto build</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>18</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Nov</span> <span class="post-date-year">2014</span>
		          </span>
      				
      				
      					By <a class="post-author" >Alan</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-2014" href="http://alanmoment.github.io//categories/2014">2014</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	發覺自己在開發上常用的小工具都沒有在整理的，每次要用就都要回想，然後再一個一個找回來覺得很煩。尤其是現在工作上要管理十幾二十台後端。常常在那邊用得不順暢，才驚覺這樣真的不行！！ 所以就花了點時間整理，順便用Shell Script寫成auto build練習一下。 Git 在setup.sh的setup_gitconfig這個method主要是建立常用的gitconfig檔，也區分了家中與工作兩個環境去做建立 Vim 最近想練習vim所以在網路上找了感覺不錯的vim也把他納進來。 http://www.intelesyscorp.com/blog/awesome-vim-configuration gvimrc vim延伸的設定檔 bash_profile 這份是常用的自定義設定檔，除了在console前面顯示git branch及更新時間，因為時常搞錯當前環境，所以把hostname也加進來了，雖然長了一點，但是辨識度很不錯！！ Install 預設是放在 /$HOME/bash，設定上非常簡單 $ sh setup.sh 打完收工！！ Github https://github.com/alanmoment/bash
            </article>
			<div class="read-more-link">
				<a href="/post/os/linux/the_bash_auto_build/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/php/laravel_shou_fa/">Laravel 首發 !!!</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>19</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Aug</span> <span class="post-date-year">2014</span>
		          </span>
      				
      				
      					By <a class="post-author" >Alan</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-2014" href="http://alanmoment.github.io//categories/2014">2014</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	雖然Laravel已經出現頗久，最近總算開始動動手了，有鑑於去年開始使用Ruby on Rails，發現說Laravel也太像了吧。據匿名的朋友說現在的Framework幾乎都是參考Ruby on Rails。而這次也趁機再多用幾種工具， Nitrous.io AWS S3 Heroku 每次自己開專案都想用不同的工具，而現在的工具越來越簡單，若是不瞭解原理，那豈不是很快被淘汰了嗎? 建立Laravel 現在的環境，撰寫如何建立似乎已經不怎麼高手了，因為越來越簡單，而官網寫的也很好。所以就不再Copy了，倒是因為要使用Framework有遇到一些PHP module的問題。 就以前的開發環境都會有php-mcrypt這個模組，但這次使用的環境竟然就真的沒有，或許是版本過新、或是MIS沒有安裝。不管，反正遇到問題就是要解決了 在CentOS 6.7中，使用yum找不到php-mcrypt了，必須要安裝另外的套件尋找。 $ sudo rpm -ivh http://dl.fedoraproject.org/pub/epel/beta/7/x86_64/epel-release-7-0.2.noarch.rpm $ sudo rpm -ivh http://rpms.famillecollet.com/enterprise/remi-release-6.rpm $ sudo yum --enablerepo=remi install php-mcrypt.x86_64 $ sudo service httpd restart php -m就可以看到mcrypt模組了。 使用Laravel 使用起來真的是很順手，因為幾乎跟Ruby on Rails一樣了，但畢竟不是很熟手，只記錄有用到的。 Routes 進入網站的各個位址都會經過route。 /secret直接401 Route::any('/secret', function() { return Response::make('Unauthorized', 401); }); /form只接受post並且在之前會先檢查ip Route::match( array('POST'), '/form', array('before' =&gt; 'ipcheck', 'uses' =&gt; 'HomeController@purchase') ); Filters 是用來過濾各種請求，有App層級也有Controller的，可用下例程式碼過濾IP。 Route::filter('ipcheck', function() { if
            </article>
			<div class="read-more-link">
				<a href="/post/php/laravel_shou_fa/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/other/da_ban_jia/">大搬家</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>9</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Aug</span> <span class="post-date-year">2014</span>
		          </span>
      				
      				
      					By <a class="post-author" >Alan</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-2014" href="http://alanmoment.github.io//categories/2014">2014</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	最近已經逐漸熟悉AWS的一些服務，決定要狠下心把家裡的Linux停掉。把一些東西都轉到雲端上，所以文章現在都存在tumblr.上了。不然其實電費算起來也是挺貴的&hellip;搬了兩個小時終於把文章都重新整理好了。手工搬實在累&hellip;連DNS都要重新設定。
            </article>
			<div class="read-more-link">
				<a href="/post/other/da_ban_jia/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/cooperation/phabricator/phabricator_ji_ben_ying_yong/">Phabricator 基本應用</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>6</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jun</span> <span class="post-date-year">2014</span>
		          </span>
      				
      				
      					By <a class="post-author" >Alan</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-2014" href="http://alanmoment.github.io//categories/2014">2014</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Create Maniphest 在這可建立 Task 指派給某一個人，目前發現最大的功用是當在 review code 的時候可以讓 commit 加入某一個 task。 Create Herald Rule 在 Herald 的頁面 Create Herald Rule 建立一條新規則 Commits Commits 的規則是當 repositories 有提交程式碼的時候皆會通知 Differential Revisions Differential Revisions Maniphest Tasks Maniphest Tasks 的規則是當有建立或修改 task 皆會通知 規則隸屬 Personal 個人的規則 Object 版本庫的規則 Global 全域規則 設定規則 Personal Conditions When all of these conditions are met: Repository is any of test_repository 還在摸索中，所以就先通用只要是版本庫的 commit 都通知我 Action Take these actions every time this rule matches: Add me to CC : cc mail 通知我 Send me an email : mail 通知我 Mark with flag : 建立 flag，還可以選顏色 Trigger an Audit by me : 通知我 review code Do nothing : 什麼都不做 ** Maniphest Tasks** Conditions When all of these conditions are met: Assignee is any of alan task 則是設定指派給我的都通知我 Action Take these actions every time this rule matches: Assign task to me : 指派給我自己 只有這個規則比較不一樣。 Owners 若覺得要設定一堆規則很麻煩，有發現另外一個比較簡單的&hellip; 在 Owners 可以 Create Package 在這邊選擇 Repository 並設定 path。這樣當版本庫有異動的時候就都會通知。 Email 設定 在 Config 有兩個地方可以設定 email 一個是 Mail 另一個是 PHPMailer 就選擇比較簡單的設定即可，我自己設定兩個&hellip;結果好像會發兩封信&hellip; 郵件伺服器 phpmailer.mailer Configure mailer used by PHPMailer.
            </article>
			<div class="read-more-link">
				<a href="/post/cooperation/phabricator/phabricator_ji_ben_ying_yong/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/agile/qian_tan_wo_de_agile/">淺談我的Agile</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>27</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Mar</span> <span class="post-date-year">2014</span>
		          </span>
      				
      				
      					By <a class="post-author" >Alan</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-2014" href="http://alanmoment.github.io//categories/2014">2014</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	在開頭先題外話一下，最近社會動蕩不安，老百姓對政府黑箱通過兩岸服務貿易感到憤怒，我自己也挺生氣的，所以我決定響應捍衛民主 退回服貿 3/30人民站出來！帶我兒子去街頭曬曬太陽 OK！宣泄完了進入正題。 首先我先聲明往後我會持續學習Scrum打算連載個7天7夜。請各位多多指教！！ 開始 在當前公司導入敏捷開發也一陣子了，雖然執行的過程都很順利，同事也都依照技術長的方式作業。但我對於敏捷開發還是不甚了解，所以這開啟了我學習的動機。 因為我個人比較背骨好奇，對於別人講的我不會立刻盡信，但我也不會反駁，因為我覺得無論何事都必須要自己實事求事。於是乎我開始自己學習何謂敏捷開發。 我們執行的是Scrum，首先先說一下人員配置，我們分三種角色： 專案經理 (Project Manager) 主持人 (Scrum Master) 工程師 (Developer) 當專案開始啟動，我們會執行以下作業： 進行需求訪談 (RA) 啟動專案 Product Backlog 痛苦的Planning meeting 分配 Sprint 開始 Coding 我今天參加了Scrum Community in Taiwan的分享會，學習別人導入的經驗，除了學習，也檢討當前雖然執行也是很順利，但似乎還可以再加強什麼，因為我們並沒有落實我所理解的敏捷開發的精神。以下是我們沒執行的： Planning poker Standup meeting Sprint demo Sprint retrospective meeting 這些我們都沒有做。好吧~ 或許是技術長不想浪費成本，覺得這些根本沒時間做，但我覺得有些對開發者是有幫助的，就讓我逐條表達一些意見。 Plannging poker 其實工程師是很害怕預估工時的，我也不例外，因為預估的工時往往都需要*3倍才較精準，這是為什麼呢？這是因為開發的過程當中，會有一些不可預知的因素在干擾著開發者，無論是需求變更，或是架構變更。都會影響思緒進而可能延宕時間。再說&hellip;工程師總是擔心受怕不曉得在哪裡會遇到麻煩，所以以墨菲定律來說，你覺得可能會發生錯誤的地方，那就一定會發生。若是每次在領 Task 的時候都能執行 Plannging poker 我相信對開發者是很有幫助的。 Standup meeting 對於每天早晨工作前15分鐘的站立會議，我對這可能就比較無感。因為我做事情的方式是屬於分散做，那邊完成一點這邊完成一點，最後再整個兜起來。但若是遇到做一做之後架構需要變更，那這個會議就相當有功效了。可以在會議後各別討論，不讓問題延宕過久拖到 Sprint 結束的時間。 Sprint demo 通常我們交出去就交出去了&hellip;所以也不會有所謂的專案經理來向我們展示成果，這樣當然就不會有回饋，以至於下次開發專案經理才提說上次怎樣怎樣，所以這次做要避免什麼什麼，若是能有成果展示，當下向我們建議一些他認為哪裡做的不夠完售，工程師也比較不會錯愕。或是可以鼓勵工程師哪裡做得很棒，甚至在客戶沒想到的情況下我們已經幫他們想到了。 Sprint retrospective meeting 我個人覺得這相當重要！！但我們卻沒做，我常常在做完專案的時候，會有一些建議想要講，若是沒有特別開這個回顧會議，要我直接跟技術長提也是超奇怪的。這應該算是一種管道，畢竟執行面是在工程師，SA 有時候設想的並不周延，甚至 SD 分析錯誤，造成工程師執行困難。 最後我們也沒有做 TDD +
            </article>
			<div class="read-more-link">
				<a href="/post/agile/qian_tan_wo_de_agile/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/ooad/injection_principle_design_pattern/">Injection Principle Design Pattern</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>26</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Feb</span> <span class="post-date-year">2014</span>
		          </span>
      				
      				
      					By <a class="post-author" >Alan</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-2014" href="http://alanmoment.github.io//categories/2014">2014</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	這兩天有個案例，內容簡約來說可以這樣闡述： A客戶要簽約買限額的N種廣告，要提供API介接 所以我開始分解上面這段話做設計。 這次A客戶簽約，下次也有機會與B客戶簽約。 廣告有 Header, Body, Footer, Left 及 Right 共5個區域可以放產品，A客戶要買 Header, Body 以及 Right 三種，當然下次別人也有機會買 Footer 或是 Left。 A客戶各買 100個, 100個 和 250個產品限額的廣告方案，當然別的客戶也有可能更多亦或更少。 A客戶使用的介接格式是 XML，當然也有機會用到 Json 或其他種類的資料格式，輸出也是相同。 若是不考慮 Design Pattern 其實這樣子的介接不難做，但要思考的是，假使不做適當的邏輯分離與切割，造成高耦合度，那擴充與修改是否會造成災難。所以我一直覺得寫程式人人都會，但是寫的一手好程式可就不簡單了。而我一直朝著這個目標邁進。 當分析需求完畢，我就開始發想，有哪種設計模式或原則適合這種狀況，應該要避免太複雜的設計模式造成開發困難或結構複雜化。小弟不才，懂得不多。我想到用 Injection Principle 這個原則來做。 介接資料 與A客戶協議好用XML資料格式介接，如之前提到的，介接的資料格式是有機會異動的，所以我覺得解析與回傳資料是應該要被分離的。 只要是介接都必須要有解析與回傳，所以我定義介接資料用的介面，裡面必須要實作解析與輸出這兩件事。 /** * 解析、回傳介接資料介面 */ interface ApiAdParseInterface { /** * 任何解析廣告的資料都必須實作 * @param type $content */ public function parse($content); /** * 任何回傳廣告的介接結果都必須實作 * @param type $content */ public function generate($content); } 我想到日後或許A客戶也有機會異動介接資料的格式，所以我選擇用DI處理，制訂出配置器加強彈性。 這個配置器主要提供注入的方法，今天若是要實作XML的資料格式，那就在建立這個實體的時候提供 instance。 /** * 解析、回傳介接結果配置器 */ class ApiParseAdAdapter { private $adapter; public function ApiParseAdAdapter($adapter) { $this-&gt;adapter = $adapter; } /** * 解析輸入的資料 * @param type $content */ public function parse($content) { return $this-&gt;adapter-&gt;parse($content); } /** * 輸出要產生的資料格式 * @param type $content */ public function generate($content) { return $this-&gt;adapter-&gt;generate($content); } } 實作以 XML 格式介接新增廣告 /** * 實作解析、生成新增廣告xml資料 */ class ParseAddAdXml implements ApiAdParseInterface { public function parse($xml) { ...
            </article>
			<div class="read-more-link">
				<a href="/post/ooad/injection_principle_design_pattern/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/cooperation/phabricator/phabricator_review_codeying_yong/">Phabricator review code應用</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>23</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Jan</span> <span class="post-date-year">2014</span>
		          </span>
      				
      				
      					By <a class="post-author" >Alan</a>
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>4 min. read</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-2014" href="http://alanmoment.github.io//categories/2014">2014</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Review code 前置設定 在 Config &gt; Diffusion 設定 diffusion.ssh-port &quot;your ssh port&quot; diffusion.ssh-user &quot;your username&quot; 或是 command line 執行 $ cd /path/to/phabricator $ ./bin/config set diffusion.ssh-user &quot;your username&quot; 在 Config &gt; Daemon &gt; sphd.user 設定 phd.user &quot;your username&quot; 或是 command line 執行 $ ./bin/config set phd.user &quot;your username&quot; 要注意的就是 Config &gt; Conduit &gt; conduit.servers 是否有設定，我是預設留空的。 Create Repository 因為有新版的 Repository 設定，所以舊版的已經不適用，新版的設定中有更清楚的設置流程了。 按下 Create Repository 開始建立需要 Review 的版本庫。 Repository Type 選擇使用的版本控制系統。 Repository Name and Location 輸入人類看的懂的標題，以及版本控制 Callsign ，官網的範例是取專案第一個字母，必須要為大寫。譬如專案名字是 Test 那 Callsign 就是 T。 Policies 選擇可以控制這個版本庫的群組、會員。 Repository Ready!
            </article>
			<div class="read-more-link">
				<a href="/post/cooperation/phabricator/phabricator_review_codeying_yong/"><span class="read-more-slashes">//</span>Read More...</a>
			</div>
          </section>
        
      </div>

      <div class="footer">
	<hr class="thin" />
	<div class="pure-menu pure-menu-horizontal pure-menu-open">
		<ul class="footer-menu">
		
		</ul>
	</div>

	<p>&copy; 2016. All rights reserved.</p>
</div>
    </div>
  </div>
  
</body>
</html>
